{"version":3,"file":"index.cjs","sources":["../src/utils.ts","src/Charts.js"],"sourcesContent":["import type { ChartType, ChartDataset, DefaultDataPoint } from 'chart.js'\n\nimport type { TChartData, TChartOptions, TypedChartJS } from './types'\n\nimport { SetupContext } from 'vue'\n\nexport enum ChartEmits {\n  ChartRendered = 'chart:rendered',\n  ChartUpdated = 'chart:updated',\n  ChartDestroyed = 'chart:destroyed',\n  LabelsUpdated = 'labels:updated'\n}\n\nexport function chartCreate<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(\n  createChartFunction: (\n    data: TChartData<TType, TData, TLabel>,\n    options: TChartOptions<TType>\n  ) => void,\n  chartData: TChartData<TType, TData, TLabel>,\n  chartOptions: TChartOptions<TType>,\n  context?: SetupContext\n): void {\n  createChartFunction(chartData, chartOptions)\n\n  if (context !== undefined) {\n    context.emit(ChartEmits.ChartRendered)\n  }\n}\n\nexport function chartUpdate<\n  TType extends ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(chart: TypedChartJS<TType, TData, TLabel>, context?: SetupContext): void {\n  chart.update()\n\n  if (context !== undefined) {\n    context.emit(ChartEmits.ChartUpdated)\n  }\n}\n\nexport function chartDestroy<\n  TType extends ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(chart: TypedChartJS<TType, TData, TLabel>, context?: SetupContext): void {\n  chart.destroy()\n\n  if (context !== undefined) {\n    context.emit(ChartEmits.ChartDestroyed)\n  }\n}\n\nexport function getChartData<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(\n  data: TChartData<TType, TData, TLabel>,\n  datasetIdKey: string\n): TChartData<TType, TData, TLabel> {\n  const nextData = {\n    labels: typeof data.labels === 'undefined' ? [] : [...data.labels],\n    datasets: []\n  }\n\n  setChartDatasets(nextData, { ...data }, datasetIdKey)\n  return nextData\n}\n\nexport function setChartDatasets<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(\n  oldData: TChartData<TType, TData, TLabel>,\n  newData: TChartData<TType, TData, TLabel>,\n  datasetIdKey: string\n): void {\n  const addedDatasets: ChartDataset<TType, TData>[] = []\n\n  oldData.datasets = newData.datasets.map(\n    (nextDataset: Record<string, unknown>) => {\n      // given the new set, find it's current match\n      const currentDataset = oldData.datasets.find(\n        (dataset: Record<string, unknown>) =>\n          dataset[datasetIdKey] === nextDataset[datasetIdKey]\n      )\n\n      // There is no original to update, so simply add new one\n      if (\n        !currentDataset ||\n        !nextDataset.data ||\n        addedDatasets.includes(currentDataset)\n      ) {\n        return { ...nextDataset }\n      }\n\n      addedDatasets.push(currentDataset)\n\n      Object.assign(currentDataset, nextDataset)\n\n      return currentDataset\n    }\n  ) as ChartDataset<TType, TData>[]\n}\n\nexport function setChartLabels<\n  TType extends ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(\n  chart: TypedChartJS<TType, TData, TLabel>,\n  labels: TLabel[] | undefined,\n  context?: SetupContext\n): void {\n  chart.data.labels = labels\n\n  if (context !== undefined) {\n    context.emit(ChartEmits.LabelsUpdated)\n  }\n}\n\nexport function setChartOptions<\n  TType extends ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(\n  chart: TypedChartJS<TType, TData, TLabel>,\n  options: TChartOptions<TType>\n): void {\n  chart.options = { ...options }\n}\n\nexport function compareData<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(\n  newData: TChartData<TType, TData, TLabel>,\n  oldData: TChartData<TType, TData, TLabel>\n): boolean {\n  // Get new and old DataSet Labels\n  const newDatasetLabels = newData.datasets.map(dataset => {\n    return dataset.label\n  })\n\n  const oldDatasetLabels = oldData.datasets.map(dataset => {\n    return dataset.label\n  })\n\n  // Check if Labels are equal and if dataset length is equal\n  return (\n    oldData.datasets.length === newData.datasets.length &&\n    newDatasetLabels.every((value, index) => value === oldDatasetLabels[index])\n  )\n}\n\nexport const templateError =\n  'Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components'\n\nexport const chartUpdateError = 'Update ERROR: chart instance not found'\n","import {\n  Chart as ChartJS,\n  BarController,\n  BubbleController,\n  DoughnutController,\n  LineController,\n  PieController,\n  PolarAreaController,\n  RadarController,\n  ScatterController\n} from 'chart.js'\n\nimport {\n  chartCreate,\n  chartDestroy,\n  chartUpdate,\n  getChartData,\n  setChartLabels,\n  setChartDatasets,\n  compareData,\n  templateError,\n  ChartEmits,\n  setChartOptions\n} from '../../src/utils'\n\nconst ANNOTATION_PLUGIN_KEY = 'annotation'\n\nexport function generateChart(chartId, chartType, chartController) {\n  let _chartRef = {}\n\n  return {\n    props: {\n      chartData: {\n        type: Object,\n        required: true\n      },\n      chartOptions: {\n        type: Object,\n        default: () => {}\n      },\n      datasetIdKey: {\n        type: String,\n        default: 'label'\n      },\n      chartId: {\n        type: String,\n        default: chartId\n      },\n      width: {\n        type: Number,\n        default: 400\n      },\n      height: {\n        type: Number,\n        default: 400\n      },\n      cssClasses: {\n        type: String,\n        default: ''\n      },\n      styles: {\n        type: Object,\n        default: () => {}\n      },\n      plugins: {\n        type: Array,\n        default: () => []\n      }\n    },\n    data() {\n      return {\n        _chart: null,\n        _id: Math.random().toString(36).substring(2),\n      }\n    },\n    computed: {\n      hasAnnotationPlugin() {\n        const pluginSettings =\n          this.chartOptions?.plugins?.[ANNOTATION_PLUGIN_KEY]\n\n        return typeof pluginSettings !== 'undefined'\n      }\n    },\n    created() {\n      ChartJS.register(chartController)\n    },\n    mounted() {\n      _chartRef[this.$data._id] = null\n\n      if ('datasets' in this.chartData && this.chartData.datasets.length > 0) {\n        chartCreate(this.renderChart, this.chartData, this.chartOptions)\n        this.$emit(ChartEmits.ChartRendered)\n      }\n    },\n    watch: {\n      chartData: {\n        handler: function (newValue, oldValue) {\n          this.chartDataHandler(newValue, oldValue)\n        },\n        deep: true\n      },\n      chartOptions: {\n        handler: function (newValue) {\n          this.chartOptionsHandler(newValue)\n        },\n        deep: true\n      }\n    },\n    methods: {\n      renderChart(data, options) {\n        const currentChart = this.getCurrentChart()\n\n        if (currentChart !== null) {\n          chartDestroy(currentChart)\n          this.$emit(ChartEmits.ChartDestroyed)\n        }\n\n        if (!this.$refs.canvas) {\n          throw new Error(templateError)\n        } else {\n          const chartData = getChartData(data, this.datasetIdKey)\n\n          const canvasEl2DContext = this.$refs.canvas.getContext('2d')\n\n          if (canvasEl2DContext !== null) {\n            this.setCurrentChart(\n              new ChartJS(canvasEl2DContext, {\n                type: chartType,\n                data: chartData,\n                options,\n                plugins: this.plugins\n              })\n            )\n          }\n        }\n      },\n      chartDataHandler(newValue, oldValue) {\n        const newData = { ...newValue }\n        const oldData = { ...oldValue }\n        const currentChart = this.getCurrentChart()\n\n        if (Object.keys(oldData).length > 0) {\n          const isEqualLabelsAndDatasetsLength = compareData(newData, oldData)\n\n          if (isEqualLabelsAndDatasetsLength && currentChart !== null) {\n            setChartDatasets(currentChart.data, newData, this.datasetIdKey)\n\n            if (newData.labels !== undefined) {\n              setChartLabels(currentChart, newData.labels)\n              this.$emit(ChartEmits.LabelsUpdated)\n            }\n\n            this.updateChart()\n            this.$emit(ChartEmits.ChartUpdated)\n          } else {\n            if (currentChart !== null) {\n              chartDestroy(currentChart)\n              this.$emit(ChartEmits.ChartDestroyed)\n            }\n\n            chartCreate(this.renderChart, this.chartData, this.chartOptions)\n            this.$emit(ChartEmits.ChartRendered)\n          }\n        } else {\n          if (currentChart !== null) {\n            chartDestroy(currentChart)\n            this.$emit(ChartEmits.ChartDestroyed)\n          }\n\n          chartCreate(this.renderChart, this.chartData, this.chartOptions)\n          this.$emit(ChartEmits.ChartRendered)\n        }\n      },\n      chartOptionsHandler(options) {\n        const currentChart = this.getCurrentChart()\n\n        if (currentChart !== null) {\n          setChartOptions(currentChart, options)\n          this.updateChart()\n        } else {\n          chartCreate(this.renderChart, this.chartData, this.chartOptions)\n        }\n      },\n      updateChart() {\n        const currentChart = this.getCurrentChart()\n        chartUpdate(currentChart)\n      },\n      getCurrentChart() {\n        return this.hasAnnotationPlugin ? _chartRef[this.$data._id] : this.$data._chart\n      },\n      setCurrentChart(chart) {\n        this.hasAnnotationPlugin\n          ? (_chartRef[this.$data._id] = chart)\n          : (this.$data._chart = chart)\n      }\n    },\n    beforeDestroy() {\n      const currentChart = this.getCurrentChart()\n\n      if (currentChart !== null) {\n        chartDestroy(currentChart)\n        this.$emit(ChartEmits.ChartDestroyed)\n      }\n    },\n    render: function (createElement) {\n      return createElement(\n        'div',\n        {\n          style: this.styles,\n          class: this.cssClasses\n        },\n        [\n          createElement('canvas', {\n            attrs: {\n              id: this.chartId,\n              width: this.width,\n              height: this.height\n            },\n            ref: 'canvas'\n          })\n        ]\n      )\n    }\n  }\n}\n\n/** @type Object */\nexport const Bar = /* #__PURE__ */ generateChart(\n  'bar-chart',\n  'bar',\n  BarController\n)\n\n/** @type Object */\nexport const Doughnut = /* #__PURE__ */ generateChart(\n  'doughnut-chart',\n  'doughnut',\n  DoughnutController\n)\n\n/** @type Object */\nexport const Line = /* #__PURE__ */ generateChart(\n  'line-chart',\n  'line',\n  LineController\n)\n\n/** @type Object */\nexport const Pie = /* #__PURE__ */ generateChart(\n  'pie-chart',\n  'pie',\n  PieController\n)\n\n/** @type Object */\nexport const PolarArea = /* #__PURE__ */ generateChart(\n  'polar-chart',\n  'polarArea',\n  PolarAreaController\n)\n\n/** @type Object */\nexport const Radar = /* #__PURE__ */ generateChart(\n  'radar-chart',\n  'radar',\n  RadarController\n)\n\n/** @type Object */\nexport const Bubble = /* #__PURE__ */ generateChart(\n  'bubble-chart',\n  'bubble',\n  BubbleController\n)\n\n/** @type Object */\nexport const Scatter = /* #__PURE__ */ generateChart(\n  'scatter-chart',\n  'scatter',\n  ScatterController\n)\n\nexport default {\n  Bar,\n  Bubble,\n  Doughnut,\n  Line,\n  Pie,\n  PolarArea,\n  Radar,\n  Scatter,\n  generateChart\n}\n"],"names":["ChartEmits","ChartRendered","ChartUpdated","ChartDestroyed","LabelsUpdated","chartCreate","createChartFunction","chartData","chartOptions","context","undefined","emit","chartUpdate","chart","update","chartDestroy","destroy","getChartData","data","datasetIdKey","nextData","labels","datasets","setChartDatasets","oldData","newData","addedDatasets","map","nextDataset","currentDataset","find","dataset","includes","push","Object","assign","setChartLabels","setChartOptions","options","compareData","newDatasetLabels","label","oldDatasetLabels","length","every","value","index","templateError","ANNOTATION_PLUGIN_KEY","generateChart","chartId","chartType","chartController","_chartRef","props","type","required","default","String","width","Number","height","cssClasses","styles","plugins","Array","_chart","_id","Math","random","toString","substring","computed","hasAnnotationPlugin","pluginSettings","created","ChartJS","register","mounted","$data","renderChart","$emit","watch","handler","newValue","oldValue","chartDataHandler","deep","chartOptionsHandler","methods","currentChart","getCurrentChart","$refs","canvas","Error","canvasEl2DContext","getContext","setCurrentChart","keys","isEqualLabelsAndDatasetsLength","updateChart","beforeDestroy","render","createElement","style","class","attrs","id","ref","Bar","BarController","Doughnut","DoughnutController","Line","LineController","Pie","PieController","PolarArea","PolarAreaController","Radar","RadarController","Bubble","BubbleController","Scatter","ScatterController"],"mappings":"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"}